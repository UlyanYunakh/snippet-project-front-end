<div class="container" *ngIf="auth.isLoading$ | async; else loaded">
    <!-- пустой контейнер це норма? -->
</div>

<ng-template #loaded>
    <ng-container *ngIf="(isAuthenticated() | async); else loggedOut">
        <button class="btn btn-primary" (click)="logout()">
          Log out
        </button>
      </ng-container>
    
      <ng-template #loggedOut>
        <button class="btn btn-primary" (click)="loginPopup()">Log in</button>
    </ng-template>
</ng-template>