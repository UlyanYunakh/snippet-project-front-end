<div *ngIf="snippet" class="p-2 m-2 bg-white rounded">
    <div class="d-flex flex-row">
        <div class="m-2">
            <a class="link" title='Перейти к языку "{{snippet.language.name}}"'
                [routerLink]="['/langs', snippet.language.extraName]">
                {{snippet.language.name}}
            </a>
        </div>
        <div class="m-2 text">
            {{snippet.user.username}}
        </div>
        <div class="m-2 ms-auto text">
            {{snippet.date | date:"shortDate"}}
        </div>
    </div>
    <div class="m-2">
        <h3>{{snippet.title}}</h3>
        <p>{{snippet.description}}</p>
    </div>
    <pre class="m-2">
        <code [highlight]="snippet.snippet" [lineNumbers]="true"></code>
    </pre>
    <div class="d-flex flex-row flex-wrap overflow-hidden">
        <a class="link m-1 p-1" *ngFor="let tag of snippet.tags" title='Перейти к тегу "{{tag.name}}"'
            [routerLink]="['/tags', tag.name]">
            {{tag.name}}
        </a>
    </div>
    <div class="d-flex flex-row flex-wrap">
        <button class="btn btn-outline-dark me-1" title='Скопировать ссылку на пост "{{snippet.title}}"'
            (click)="copyUrl()">Share</button>
        <a *ngIf="isOwner" class="btn btn-outline-secondary me-1" title='Редактировать пост "{{snippet.title}}"'
            [routerLink]="['/edit', snippet.id]">Edit</a>
        <button *ngIf="isOwner" class="btn btn-outline-danger" title='Удалить пост "{{snippet.title}}"'
            (click)="delete()">
            Delete
        </button>
        <div class="mx-2 ms-auto text">
            Likes: {{snippet.like}}
            <button class="btn btn-outline-dark" title='Поставить лайк посту "{{snippet.title}}"'
                (click)="like()">Like</button>
        </div>
    </div>
</div>

<div *ngIf="errorMessage" class="p-2 m-2 bg-white rounded">
    <p class="text-danger">
        {{errorMessage}}
    </p>
    <button class="btn" (click)="getSnippet()">
        Обновить
    </button>
</div>

<div *ngIf="!snippet && !errorMessage" class="d-flex flex-column align-items-center">
    <div class="spinner-border" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
</div>